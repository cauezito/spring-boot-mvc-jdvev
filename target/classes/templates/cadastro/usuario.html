<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Usuários</title>
<!-- UIkit CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/uikit@3.5.5/dist/css/uikit.min.css" />

<!-- UIkit JS -->
<script
	src="https://cdn.jsdelivr.net/npm/uikit@3.5.5/dist/js/uikit.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/uikit@3.5.5/dist/js/uikit-icons.min.js"></script>
</head>
<style>
body {
	background-color: #dbedf3;
}
</style>
<body>

	<div class="uk-container">
	
		<div th:each="m : ${msg}">
			<span th:text="${m}"></span>
		</div>
	
		<div class="uk-card uk-card-default uk-card-body uk-width-1-2@m">
			<form action="/salvarUsuario" method="POST"
				class="uk-form-horizontal uk-margin-large" th:object="${usuario}">

				<div class="uk-margin uk-hidden">
					<label class="uk-form-label" for="form-horizontal-text">Id:</label>
					<div class="uk-form-controls">
						<input class="uk-input" id="form-horizontal-text" name="id"
							type="text" th:field="*{id}">
					</div>
				</div>

				<div class="uk-margin">
					<label class="uk-form-label" for="form-horizontal-text">Nome:</label>
					<div class="uk-form-controls">
						<input class="uk-input" id="form-horizontal-text" name="nome"
							type="text" th:field="*{nome}">
					</div>
				</div>
				<div class="uk-margin">
					<label class="uk-form-label" for="form-horizontal-text">Sobrenome:</label>
					<div class="uk-form-controls">
						<input class="uk-input" id="form-horizontal-text" name="sobrenome"
							th:field="*{sobrenome}">
					</div>
				</div>
				<button class="uk-button uk-button-primary" type="submit">SALVAR</button>
			</form>
		</div>

		<form class="uk-search uk-search-default" method="post" action="pesquisarUsuario">
			
			 <input class="uk-search-input"
				type="search" placeholder="Busca por nome" name="nomePesquisado">
				<button type="submit">Pesquisar</button>
		</form>

		<table class="uk-table uk-table-justify uk-table-divider">
			<thead>
				<tr>
					<th class="uk-width-small">ID</th>
					<th>Nome</th>
					<th>Sobrenome</th>
					<th>Ações</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="usuario : ${usuarios}">
					<td th:text="${usuario.id}"></td>
					<td><a th:href="@{/telefones/{id}(id=${usuario.id})}"><span th:text="${usuario.nome}"></span></a></td>
					<td th:text="${usuario.sobrenome}"></td>
					<td><a th:href="@{/editarUsuario/{id}(id=${usuario.id})}">editar</a>|
					<a th:href="@{/excluirUsuario/{id}(id=${usuario.id})}">excluir</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</body>
</html>